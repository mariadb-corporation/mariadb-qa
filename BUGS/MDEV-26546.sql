INSTALL PLUGIN spider SONAME 'ha_spider.so';
CREATE TABLE m1 (c1 INT) ENGINE=SPIDER PARTITION BY LIST COLUMNS (c1) (PARTITION p1 DEFAULT ENGINE=SPIDER);
SHOW TABLE STATUS;
CREATE TEMPORARY TABLE m2 ENGINE=SPIDER PARTITION BY LIST COLUMNS (c1) (PARTITION p1 DEFAULT ENGINE=SPIDER);
SHOW TABLE STATUS;
SELECT SLEEP(10);
SHOW TABLE STATUS;

INSTALL PLUGIN spider SONAME 'ha_spider.so';
CREATE TABLE t1 (c0 INT,UNIQUE (c0) USING HASH) ENGINE=SPIDER;
INSERT DELAYED INTO t1 VALUES (0);
invalid;
SELECT SLEEP (1);

DROP DATABASE test;
CREATE DATABASE test;
USE test;
INSTALL PLUGIN spider SONAME 'ha_spider.so';
SET sql_mode='';
SET SESSION enforce_storage_engine=spider;
CREATE TABLE t1 (id INT) ENGINE=SEQUENCE;
SET SESSION profiling=ON;
SELECT * FROM t2;
SHOW CREATE TABLE t1;
SET GLOBAL table_open_cache=-1;
CREATE TEMPORARY TABLE t1 (a INT) ENGINE=MyISAM;
SHOW CREATE TABLE t1;
SELECT partition_name, table_rows FROM information_schema.PARTITIONS WHERE table_name='t1';
SELECT * FROM t1;
SELECT SLEEP;
