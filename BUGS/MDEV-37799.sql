SET autocommit=0;
SET SQL_MODE='ORACLE';
CREATE GLOBAL TEMPORARY TABLE gtt (c INT) ON COMMIT PRESERVE ROWS;
INSERT INTO gtt(c) VALUES (1);
COMMIT;
SELECT COUNT(*) AS ct FROM gtt;
DELETE FROM gtt WHERE c=1;
SELECT COUNT(*) AS ct FROM gtt;
TRUNCATE TABLE gtt;
COMMIT;
DROP TABLE gtt;

SET autocommit=0;
SET SQL_MODE='ORACLE';
CREATE TEMPORARY TABLE tt (c INT);
INSERT INTO tt(c) VALUES (1);
COMMIT;
SELECT COUNT(*) AS ct FROM tt;
DELETE FROM tt WHERE c=1;
SELECT COUNT(*) AS ct FROM tt;
TRUNCATE TABLE tt;
COMMIT;
DROP TABLE tt;

SET autocommit=0;
SET SQL_MODE='ORACLE';
CREATE TABLE t (c INT);
INSERT INTO t(c) VALUES (1);
COMMIT;
SELECT COUNT(*) AS ct FROM t;
DELETE FROM t WHERE c=1;
SELECT COUNT(*) AS ct FROM t;
TRUNCATE TABLE t;
COMMIT;
DROP TABLE t;
