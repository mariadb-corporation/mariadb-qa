SET sql_mode='';
CREATE TABLE t (c CHAR(1),FULLTEXT (c)) ENGINE=InnoDB;
XA START 'a';
INSERT INTO t VALUES (0);
XA END 'a';
XA PREPARE 'a';
SHUTDOWN;

CREATE TABLE t (a CHAR(1),b VARCHAR(1),KEY(A)) ENGINE=InnoDB;
INSERT INTO t VALUES (X'',X''),(X'',X'');
INSERT INTO t SELECT * FROM t;
INSERT INTO t SELECT * FROM t;
INSERT INTO t SELECT * FROM t;
INSERT INTO t SELECT * FROM t;
ALTER TABLE t ADD FULLTEXT INDEX (b (1));
XA START 'a';
INSERT INTO t SELECT * FROM t;
XA END 'a';
XA PREPARE 'a';
SHUTDOWN;

CREATE TABLE t (c TEXT, FULLTEXT KEY ft (c)) ENGINE=InnoDB;
XA START 'a';
INSERT INTO t VALUES ('a');
INSERT INTO t VALUES ('a');
INSERT INTO t VALUES ('a');
INSERT INTO t VALUES ('a');
INSERT INTO t VALUES ('a');
INSERT INTO t VALUES ('a');
INSERT INTO t VALUES ('a');
INSERT INTO t VALUES ('a');
SAVEPOINT sp1;
INSERT INTO t VALUES ('a');
INSERT INTO t VALUES ('a');
INSERT INTO t VALUES ('a');
INSERT INTO t VALUES ('a');
INSERT INTO t VALUES ('a');
XA END 'a';
XA PREPARE 'a';
SHUTDOWN;

CREATE TEMPORARY TABLE t1 (c1 INT, c2 INT) ENGINE=INNODB;
CREATE TABLE t1 ( a TEXT, FULLTEXT (a) );
DROP TABLE t1;
XA START 'a';
insert INTO t1 values (NULL), (0), (1), (2), (3), (4), (5), (6), (7), (8), (9), (10), (11), (12), (13), (14), (15), (16), (17), (18), (19);
SAVEPOINT sp;
XA END 'a';
XA PREPARE 'a';
SHUTDOWN;
CREATE TEMPORARY TABLE t1 (c1 INT, c2 INT) ENGINE=INNODB;
