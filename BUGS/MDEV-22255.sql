# mysqld options required for replay:  --sql_mode= 
CREATE TABLE t (c INT);
INSERT INTO t VALUES(0);
CREATE TEMPORARY TABLE t2 (c INT);
START TRANSACTION READ ONLY;
INSERT INTO t2 SELECT * FROM t;

# mysqld options required for replay:  --sql_mode= 
USE test;
CREATE TEMPORARY TABLE t (c INT,c2 INT);
START TRANSACTION READ ONLY;
INSERT INTO t VALUES(0);
SAVEPOINT s;
INSERT INTO t VALUES(0,0);

CREATE TEMPORARY TABLE t1 (a INT PRIMARY KEY) ENGINE=InnoDB;
INSERT INTO t1 VALUES (1);
START TRANSACTION READ ONLY;
UPDATE t1 SET a= 2;

CREATE TEMPORARY TABLE t(c INT) ENGINE=InnoDB;
SET SESSION tx_read_only=TRUE;
LOCK TABLE test.t READ;
SELECT * FROM t;
INSERT INTO t VALUES(0xADC3);

CREATE TEMPORARY TABLE tmp (a INT) ENGINE=InnoDB;
INSERT INTO tmp () VALUES (),();
SET TX_READ_ONLY= 1;
INSERT INTO tmp SELECT * FROM tmp;

SET sql_mode='';
SET GLOBAL tx_read_only=TRUE;
CREATE TEMPORARY TABLE t (c INT);
SET SESSION tx_read_only=DEFAULT;
INSERT INTO t VALUES(1);
INSERT INTO t SELECT * FROM t;

SET SQL_MODE='';
CREATE TEMPORARY TABLE t3 (c1 INT PRIMARY KEY,c2 INT,c3 INT) ENGINE=InnoDB;
CREATE TABLE t2 (c1 INT,c2 INT,c3 INT) ENGINE=InnoDB;
CREATE TEMPORARY TABLE t3 (c1 INT) ENGINE=InnoDB;
INSERT INTO t2 VALUES ('a','a','a');
START TRANSACTION WITH CONSISTENT SNAPSHOT, READ ONLY;
INSERT INTO t3 SELECT * FROM t2;
