CREATE TABLE t (a INT,b DATE,PRIMARY KEY(a,b)) ENGINE=InnoDB PARTITION BY RANGE (TO_DAYS (b)) SUBPARTITION BY HASH (a) SUBPARTITIONS 2 (PARTITION p0 VALUES LESS THAN (TO_DAYS ('2009-01-01')),PARTITION p VALUES LESS THAN (TO_DAYS ('2009-02-01')),PARTITION p2 VALUES LESS THAN (TO_DAYS ('2009-03-01')),PARTITION p3 VALUES LESS THAN MAXVALUE);
SELECT b,COUNT(DISTINCT a) FROM t GROUP BY b HAVING b is NULL;
