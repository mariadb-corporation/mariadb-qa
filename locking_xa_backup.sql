INSTALL SONAME 'ha_federatedx.so';
INSTALL SONAME 'ha_blackhole.so';
INSTALL SONAME 'ha_archive.so';
CREATE USER federatedx@localhost IDENTIFIED BY '';
INSTALL PLUGIN Spider SONAME 'ha_spider.so';
SET SESSION spider_same_server_link=ON;
INSTALL SONAME 'ha_rocksdb';
SET GLOBAL innodb_default_row_format=0;
SET foreign_key_checks=0;
SET unique_checks=0;
SET autocommit=0;
XA START 'a';
XA END 'a';
XA COMMIT 'a';
XA COMMIT 'a' ONE PHASE;
XA PREPARE 'a';
XA ROLLBACK 'a';
XA START 'a','b',2;
XA END 'a','b',2;
XA COMMIT 'a','b',2;
XA COMMIT 'a','b',2 ONE PHASE;
XA PREPARE 'a','b',2;
XA ROLLBACK 'a','b',2;
XA RECOVER;
XA RECOVER FORMAT='RAW';
XA RECOVER FORMAT='SQL';
CREATE TABLE t (c INT);
CREATE TABLE t (c INT) ENGINE=InnoDB;
CREATE TABLE t (c INT) ENGINE=MyISAM;
CREATE TABLE t (c INT) ENGINE=Aria;
CREATE TABLE t (c INT) ENGINE=Spider;
CREATE TABLE t (c INT) ENGINE=RocksDB;
CREATE TABLE t (c INT PRIMARY KEY) ENGINE=InnoDB;
CREATE TABLE t (c INT PRIMARY KEY) ENGINE=MyISAM;
CREATE TABLE t (c INT PRIMARY KEY) ENGINE=Aria;
CREATE TABLE t (c INT PRIMARY KEY) ENGINE=Spider;
CREATE TABLE t (c INT PRIMARY KEY) ENGINE=RocksDB;
CREATE TABLE t (c INT UNIQUE) ENGINE=InnoDB;
CREATE TABLE t (c INT UNIQUE) ENGINE=MyISAM;
CREATE TABLE t (c INT UNIQUE) ENGINE=Aria;
CREATE TABLE t (c INT UNIQUE) ENGINE=Spider;
CREATE TABLE t (c INT UNIQUE) ENGINE=RocksDB;
CREATE TABLE t1 (c INT, FOREIGN KEY(c) REFERENCES t(c)) ENGINE=InnoDB;
CREATE TABLE t2 (c INT, FOREIGN KEY(c) REFERENCES t(c)) ENGINE=InnoDB;
CREATE TABLE t3 (c INT, FOREIGN KEY(c) REFERENCES t(c)) ENGINE=InnoDB;
CREATE TABLE t (c INT, FOREIGN KEY(c) REFERENCES t1(c)) ENGINE=InnoDB;
CREATE TABLE t (c INT, FOREIGN KEY(c) REFERENCES t2(c)) ENGINE=InnoDB;
CREATE TABLE t (c INT, FOREIGN KEY(c) REFERENCES t3(c)) ENGINE=InnoDB;
CREATE TABLE t1 (c INT, FOREIGN KEY(c) REFERENCES t2(c)) ENGINE=InnoDB;
CREATE TABLE t1 (c INT, FOREIGN KEY(c) REFERENCES t3(c)) ENGINE=InnoDB;
INSERT INTO t VALUES (NULL);
INSERT INTO t VALUES (0);
INSERT INTO t VALUES (1),(2);
INSERT INTO t VALUES (2),(3),(4);
INSERT INTO t VALUES (3),(4),(5),(6);
INSERT INTO t VALUES (4),(5),(6),(7),(8);
INSERT INTO t VALUES (5),(6),(7),(8),(9),(10);
INSERT INTO t VALUES (6),(7),(8),(9),(10),(11);
INSERT INTO t VALUES (7),(8),(9),(10),(11),(12),(13);
DROP TABLE t;
DROP TABLE t;
DROP TABLE t;
DROP TABLE t;
BEGIN;
COMMIT;
COMMIT;
COMMIT;
ALTER TABLE t1 ENGINE=InnoDB;
ALTER TABLE t1 ENGINE=Aria;
ALTER TABLE t1 ENGINE=MyISAM;
ALTER TABLE t1 ENGINE=CSV;
ALTER TABLE t1 ENGINE=Archive;
ALTER TABLE t1 ENGINE=Spider;
ALTER TABLE t1 ENGINE=Blackhole;
ALTER TABLE t1 ENGINE=Memory;
ALTER TABLE t1 ENGINE=Spider;
ALTER TABLE t1 ENGINE=RocksDB;
ALTER TABLE t ENGINE=Federated;
ALTER TABLE t ENGINE=InnoDB;
ALTER TABLE t ENGINE=Aria;
ALTER TABLE t ENGINE=MyISAM;
ALTER TABLE t ENGINE=CSV;
ALTER TABLE t ENGINE=Archive;
ALTER TABLE t ENGINE=Spider;
ALTER TABLE t ENGINE=Blackhole;
ALTER TABLE t ENGINE=Memory;
ALTER TABLE t ENGINE=Spider;
ALTER TABLE t ENGINE=RocksDB;
ALTER TABLE t ENGINE=Federated;
UNLOCK TABLES;
UNLOCK TABLES;
UNLOCK TABLES;
UNLOCK TABLES;
UNLOCK TABLES;
LOCK TABLE t1 READ;
LOCK TABLE t1 READ LOCAL;
LOCK TABLE t1 WRITE;
LOCK TABLE t1 LOW_PRIORITY WRITE;
LOCK TABLE t1 WRITE CONCURRENT;
UNLOCK TABLES;
UNLOCK TABLES;
UNLOCK TABLES;
UNLOCK TABLES;
UNLOCK TABLES;
LOCK TABLE t READ;
LOCK TABLE t READ LOCAL;
LOCK TABLE t WRITE;
LOCK TABLE t LOW_PRIORITY WRITE;
LOCK TABLE t WRITE CONCURRENT;
UNLOCK TABLES;
UNLOCK TABLES;
UNLOCK TABLES;
UNLOCK TABLES;
UNLOCK TABLES;
LOCK TABLE t2 READ;
LOCK TABLE t2 READ LOCAL;
LOCK TABLE t2 WRITE;
LOCK TABLE t2 LOW_PRIORITY WRITE;
LOCK TABLE t2 WRITE CONCURRENT;
UNLOCK TABLES;
UNLOCK TABLES;
UNLOCK TABLES;
UNLOCK TABLES;
UNLOCK TABLES;
FLUSH TABLES WITH READ LOCK;
FLUSH TABLES WITH READ LOCK AND DISABLE CHECKPOINT;
FLUSH TABLES;
FLUSH TABLES t;
FLUSH TABLES t;
FLUSH TABLES WITH READ LOCK, TABLES;
FLUSH TABLES WITH READ LOCK, HOSTs;
FLUSH PRIVILEGES, TABLES;
FLUSH TABLES t1 WITH READ LOCK;
FLUSH TABLES t2 WITH READ LOCK;
FLUSH TABLES t WITH READ LOCK;
FLUSH TABLES t WITH READ LOCK;
FLUSH TABLES tm WITH READ LOCK;
FLUSH TABLES ts WITH READ LOCK;
FLUSH TABLES t1 WITH READ LOCK AND DISABLE CHECKPOINT;
FLUSH TABLES t2 WITH READ LOCK AND DISABLE CHECKPOINT;
FLUSH TABLES t WITH READ LOCK AND DISABLE CHECKPOINT;
FLUSH TABLES t WITH READ LOCK AND DISABLE CHECKPOINT;
FLUSH TABLES tm WITH READ LOCK AND DISABLE CHECKPOINT;
FLUSH TABLES ts WITH READ LOCK AND DISABLE CHECKPOINT;
BACKUP LOCK t1;
BACKUP LOCK t2;
BACKUP LOCK t;
BACKUP LOCK t;
BACKUP LOCK tm;
BACKUP LOCK ts;
BACKUP LOCK test.t1;
BACKUP LOCK test.t2;
BACKUP LOCK test.t;
BACKUP LOCK test.tm;
BACKUP LOCK test.ts;
BACKUP UNLOCK;
BACKUP UNLOCK;
BACKUP UNLOCK;
BACKUP UNLOCK;
BACKUP UNLOCK;
BACKUP UNLOCK;
BACKUP UNLOCK;
BACKUP UNLOCK;
BACKUP UNLOCK;
BACKUP STAGE START;
BACKUP STAGE FLUSH;
BACKUP STAGE BLOCK_DDL;
BACKUP STAGE BLOCK_COMMIT;
BACKUP STAGE END;
BACKUP STAGE END;
BACKUP STAGE END;
